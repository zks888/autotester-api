webpackJsonp([24],{D0yc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Xxa5"),s=a.n(i),n=a("exGp"),c=a.n(n),l=a("Dd8w"),p=a.n(l),o=a("2d0t"),r=a("W+bg"),u=a("XcM5"),m=a("W5b6"),h=a("NXqa"),d=a("vuyV"),g=a("0xDb"),b=a("W/rB"),f=a("L6vm"),x=a("Ru7v"),v=a("NYxO"),L={filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},data:function(){return{itemKey:0,ParamsdialogStatus:"",datevisible:!1,timevisible:!1,itemplanKey:null,itemcaseKey:null,planbusinessdiclist:[],tmpexecuteplanname:"",tmpcasedeployunitname:null,tmpcaseapiname:null,tmpcaseexecuteplanid:null,tmpcasecasetype:null,show:!1,PerformanceVisible:!1,enviromentnameList:[],apiList:[],deployunitList:[],multipleSelection:[],casemultipleSelection:[],executeplanList:[],testcaseList:[],testcaselastList:[],executeplancaseList:[],executeplancaseexistList:[],executeplancaseremovetList:[],executeplanstopList:[],tmpplanbatchList:[],paramsList:[],listLoading:!1,caselistLoading:!1,total:0,casetotal:0,apiQuery:{page:1,size:10,deployunitname:""},listQuery:{page:1,size:10,listLoading:!0,executeplanname:""},caselistQuery:{page:1,size:10,listLoading:!0,deployunitname:null,apiname:null,executeplanid:null,casetype:null},dialogStatus:"add",dialogFormVisible:!1,casedialogFormVisible:!1,batchdialogFormVisible:!1,CollectionParamsFormVisible:!1,modifyparamdialogFormVisible:!1,loadcase:"装载用例",loadbatch:"执行计划",textMap:{updateRole:"修改测试任务",update:"修改测试任务",add:"添加测试任务"},paramstextMap:{updateRole:"修改参数",update:"修改参数",add:"添加参数"},diclevelQuery:{page:1,size:100,diccode:"planbusinesstype"},btnLoading:!1,casebtnLoading:!1,execbtnLoading:!1,tmpexecuteplan:{id:"",executeplanname:"",enviromentname:"",envid:"",status:"",usetype:"",businesstype:"",ip:"",memo:"",creator:"",runmode:""},tmpplanbatch:{executeplanid:"",executeplanname:"",batchname:"",creator:"",exectype:"",exectmpdate:"",execdate:"",exectime:""},tmpplanenv:{id:"",envid:"",enviromentname:""},tmpapicases:{id:"",casename:"",deployunitname:"",apiname:"",casejmxname:"",casecontent:"",expect:"",level:"",memo:"",creator:"admin"},tmpparam:{id:"",executeplanid:"",paramstype:"",keyname:"",keyvalue:""},tmpep:{executeplanid:""},search:{page:1,size:10,executeplanname:null,businesstype:""},searchcase:{page:1,size:10,deployunitname:null,apiname:null,executeplanid:null,casetype:null},searchparam:{page:1,size:10}}},computed:p()({},Object(v.b)(["name","sidebar","avatar"])),created:function(){this.getexecuteplanList(),this.getapiList(),this.getdepunitList(),this.getenviromentallList(),this.getdatabydiccodeList()},methods:{getdatabydiccodeList:function(){var e=this;Object(f.b)(this.diclevelQuery).then(function(t){e.planbusinessdiclist=t.data.list}).catch(function(t){e.$message.error("加载组件名字典列表失败")})},unix2CurrentTime:g.b,searchparamsbyepid:function(){var e=this;console.log(this.tmpep),Object(x.c)(this.tmpep).then(function(t){e.paramsList=t.data.list}).catch(function(t){e.$message.error("加载params列表失败")})},stopexecuteplanList:function(){for(var e=this,t=0;t<this.multipleSelection.length;t++)"waiting"!==this.multipleSelection[t].status&&"new"!==this.multipleSelection[t].status&&"finish"!==this.multipleSelection[t].status&&"stop"!==this.multipleSelection[t].status||this.multipleSelection.splice(t);if(0===this.multipleSelection.length)this.$message.error("未选择执行计划,或者只有运行中才可以停止");else{for(var a=0;a<this.multipleSelection.length;a++)this.executeplanstopList.push({id:this.multipleSelection[a].id,status:"stop"});Object(d.k)(this.executeplanstopList).then(function(){e.$message.success("已停止执行计划"),e.btnLoading=!1}).catch(function(t){e.$message.error("停止计划执行失败"),e.btnLoading=!1})}this.getexecuteplanList()},savebatchandexecuteplancase:function(){var e=this;this.$refs.tmpplanbatch.validate(function(t){if(t){if(0===e.multipleSelection.length)return void e.$message.error("未选择执行计划,或者所选计划已经在执行中");if(e.multipleSelection.length>1)return void e.$message.error("不支持多执行计划一起提交，单个提交");e.tmpplanbatch.executeplanname=e.multipleSelection[0].executeplanname,e.tmpplanbatch.execdate=e.tmpplanbatch.exectmpdate+" "+e.tmpplanbatch.exectime+":00",":00"===e.tmpplanbatch.execdate&&(e.tmpplanbatch.execdate="/"),""===e.tmpplanbatch.exectmpdate&&(e.tmpplanbatch.execdate=e.tmpplanbatch.exectime+":00"),Object(m.a)(e.tmpplanbatch).then(function(){e.executeplancase(),e.batchdialogFormVisible=!1}).catch(function(t){e.$message.error("计划执行失败")})}})},executeplancase:function(){var e=this;this.tmpplanbatchList=[],this.$refs.tmpplanbatch.validate(function(t){if(t){for(var a=0;a<e.multipleSelection.length;a++)"running"===e.multipleSelection[a].status&&e.multipleSelection.splice(a);if(0===e.multipleSelection.length)e.$message.error("未选择执行计划,或者所选计划已经在执行中");else if(e.multipleSelection.length>1)e.$message.error("不支持多执行计划一起提交，单个提交");else{for(var i=0;i<e.multipleSelection.length;i++)e.tmpplanbatchList.push({planid:e.multipleSelection[0].id,batchname:e.tmpplanbatch.batchname});Object(d.c)(e.tmpplanbatchList).then(function(){e.$message.success("测试任务已经提交，即将开始执行")}).catch(function(t){e.$message.error("计划失败")})}e.getexecuteplanList()}})},handleClickTableRow:function(e,t,a){},handleSelectionChange:function(e){this.multipleSelection=e,console.log("00000000000000000000000000"),console.log(this.multipleSelection)},casehandleClickTableRow:function(e,t,a){console.log(e)},casehandleSelectionChange:function(e){this.casemultipleSelection=e},exectypeselectChanged:function(e){"立即执行"===e&&(this.datevisible=!1,this.timevisible=!1),"某天定时"===e&&(this.datevisible=!0,this.timevisible=!0,this.tmpplanbatch.execdate="",this.tmpplanbatch.exectime=""),"每天定时"===e&&(this.datevisible=!1,this.timevisible=!0,this.tmpplanbatch.exectime="")},paramstypeselectChanged:function(e){this.tmpparam.keyname="",this.tmpparam.keyvalue=""},getexecuteplanList:function(){var e=this;this.search.execplanname=this.tmpexecplanname,this.search.batchname=this.tmpbatchname,this.listLoading=!0,Object(d.i)(this.search).then(function(t){e.executeplanList=t.data.list,e.total=t.data.total,e.listLoading=!1}).catch(function(t){e.$message.error("加载字典列表失败")})},searchBy:function(){var e=this;this.search.page=1,this.listLoading=!0,Object(d.i)(this.search).then(function(t){e.itemKey=Math.random(),e.executeplanList=t.data.list,e.total=t.data.total}).catch(function(t){e.$message.error("搜索失败")}),this.tmpexecuteplanname=this.search.executeplanname,this.listLoading=!1,this.btnLoading=!1},handleSizeChange:function(e){this.search.page=1,this.search.size=e,this.getexecuteplanList()},handleCurrentChange:function(e){this.search.page=e,this.getexecuteplanList()},getIndex:function(e){return(this.search.page-1)*this.search.size+e+1},paramgetIndex:function(e){return(this.searchparam.page-1)*this.searchparam.size+e+1},enviromentselectChanged:function(e){for(var t=0;t<this.enviromentnameList.length;t++)this.enviromentnameList[t].enviromentname===e&&(this.tmpexecuteplan.envid=this.enviromentnameList[t].id),console.log(this.enviromentnameList[t].id)},selectChanged:function(e){var t=this;this.apiList=null,this.apiQuery.deployunitname=e,Object(r.i)(this.apiQuery).then(function(e){t.apiList=e.data.list}).catch(function(e){t.$message.error("加载api列表失败")})},getapiList:function(){var e=this;this.caselistLoading=!0,Object(r.i)(this.listQuery).then(function(t){e.apiList=t.data.list,e.caselistLoading=!1}).catch(function(t){e.$message.error("加载api列表失败")})},getenviromentallList:function(){var e=this;Object(b.c)().then(function(t){e.enviromentnameList=t.data}).catch(function(t){e.$message.error("加载环境列表失败")})},getdepunitList:function(){var e=this;this.caselistLoading=!0,Object(u.d)(this.listQuery).then(function(t){e.deployunitList=t.data.list}).catch(function(t){e.$message.error("加载发布单元列表失败")})},getcaseList:function(){var e=this;this.caselistLoading=!0,Object(o.e)(this.listQuery).then(function(t){e.apicasesList=t.data.list,e.caselistLoading=!1}).catch(function(t){e.$message.error("加载用例列表失败")})},searchcaseBy:function(){this.searchtestplanexistcase()},gettestcaselastList:function(){var e=this;return c()(s.a.mark(function t(){var a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(console.log(e.testcaseList.length),console.log(e.executeplancaseexistList.length),a=0;a<e.testcaseList.length;a++)for(i=0;i<e.executeplancaseexistList.length;i++)e.testcaseList[a].id===e.executeplancaseexistList[i].testcaseid?e.testcaselastList.push({checkstats:!0,deployunitname:e.testcaseList[a].deployunitname,apiname:e.testcaseList[a].apiname,casename:e.testcaseList[a].casename,expect:e.testcaseList[a].expect}):e.testcaselastList.push({checkstats:!1,deployunitname:e.testcaseList[a].deployunitname,apiname:e.testcaseList[a].apiname,casename:e.testcaseList[a].casename,expect:e.testcaseList[a].expect});console.log(e.testcaselastList);case 4:case"end":return t.stop()}},t,e)}))()},searchcaseBydepandapi:function(){var e=this;return c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.searchcase.validate(function(t){t&&(e.casebtnLoading=!0,e.caselistLoading=!0,e.searchcase.page=e.caselistQuery.page,e.searchcase.size=e.caselistQuery.size,Object(o.l)(e.searchcase).then(function(t){e.testcaseList=t.data.list,console.log(e.testcaseList.length),e.casetotal=t.data.total}).catch(function(t){e.$message.error("搜索失败")}),e.caselistLoading=!1,e.casebtnLoading=!1)});case 1:case"end":return t.stop()}},t,e)}))()},searchtestplanexistcase:function(){var e=this;this.testcaselastList=[],this.$refs.searchcase.validate(function(t){t&&(e.searchcase.executeplanid=e.tmpexecuteplan.id,e.searchcase.casetype=e.tmpexecuteplan.usetype,e.searchcase.page=1,Object(h.g)(e.searchcase).then(function(t){e.testcaselastList=t.data.list,e.casetotal=t.data.total,e.$nextTick(function(){for(var t=0;t<e.testcaselastList.length;t++)!0===e.testcaselastList[t].status&&e.$refs.caseTable.toggleRowSelection(e.testcaselastList[t],!0)})}).catch(function(t){e.$message.error("获取已装载的用例失败")}))}),this.tmpcasedeployunitname=this.searchcase.deployunitname,this.tmpcaseapiname=this.searchcase.apiname,this.tmpcaseexecuteplanid=this.searchcase.executeplanid,this.tmpcasecasetype=this.searchcase.casetype},casehandleSizeChange:function(e){this.searchcase.page=1,this.searchcase.size=e,this.searchtestplanexistcase()},casehandleCurrentChange:function(e){this.searchcase.page=e,this.searchtestplanexistcase()},casegetIndex:function(e){return(this.searchcase.page-1)*this.searchcase.size+e+1},showAddexecuteplanDialog:function(){this.dialogFormVisible=!0,this.dialogStatus="add",this.tmpexecuteplan.id="",this.tmpexecuteplan.executeplanname="",this.tmpexecuteplan.status="new",this.tmpexecuteplan.memo="",this.tmpexecuteplan.usetype="",this.tmpexecuteplan.enviromentname="",this.tmpexecuteplan.businesstype="",this.tmpexecuteplan.creator=this.name,this.tmpexecuteplan.runmode=""},showplanparamsDialog:function(e){this.CollectionParamsFormVisible=!0,this.tmpparam.executeplanid=this.executeplanList[e].id,this.tmpep.executeplanid=this.executeplanList[e].id,this.searchparamsbyepid()},showAddapiparamsDialog:function(){this.modifyparamdialogFormVisible=!0,this.ParamsdialogStatus="add",this.tmpparam.id="",this.tmpparam.paramstype="",this.tmpparam.keyname="",this.tmpparam.keyvalue=""},showUpdateparamsDialog:function(e){this.modifyparamdialogFormVisible=!0,this.ParamsdialogStatus="update",this.tmpparam.id=this.paramsList[e].id,this.tmpparam.paramstype=this.paramsList[e].paramstype,this.tmpparam.keyname=this.paramsList[e].keyname,this.tmpparam.keyvalue=this.paramsList[e].keyvalue},showplanbatchDialog:function(){var e=this;this.tmpplanbatch.exectmpdate="",this.tmpplanbatch.exectime="",this.tmpplanbatch.execdate="",this.tmpplanbatch.exectype="",this.timevisible=!1,this.datevisible=!1;for(var t=0;t<this.multipleSelection.length;t++)"running"===this.multipleSelection[t].status&&this.multipleSelection.splice(t);0===this.multipleSelection.length?this.$message.error("未选择执行计划,或者所选计划已经在执行中"):this.multipleSelection.length>1?this.$message.error("不支持多执行计划一起提交，单个提交"):(this.tmpplanenv.id=this.multipleSelection[0].id,this.tmpplanenv.envid=this.multipleSelection[0].envid,this.tmpplanenv.enviromentname=this.multipleSelection[0].enviromentname,Object(d.b)(this.tmpplanenv).then(function(){e.batchdialogFormVisible=!0,e.tmpplanbatch.executeplanid=e.multipleSelection[0].id,e.tmpplanbatch.creator=e.name,e.tmpplanbatch.batchname=""}).catch(function(e){}))},addparams:function(){var e=this;this.$refs.tmpparam.validate(function(t){t&&Object(x.a)(e.tmpparam).then(function(){e.$message.success("添加成功"),e.modifyparamdialogFormVisible=!1,e.searchparamsbyepid()}).catch(function(t){e.$message.error("添加失败")})})},updatparam:function(){var e=this;this.$refs.tmpparam.validate(function(t){t&&Object(x.d)(e.tmpparam).then(function(){e.$message.success("更新成功"),e.searchparamsbyepid(),e.modifyparamdialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败")})})},removeexecuteplanparam:function(e){var t=this;this.$confirm("删除该参数？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a=t.paramsList[e].id;Object(x.b)(a).then(function(){t.$message.success("删除成功"),t.searchparamsbyepid()})}).catch(function(){t.$message.info("已取消删除")})},showUpdateexecuteplanDialog:function(e){this.dialogFormVisible=!0,this.dialogStatus="update",this.tmpexecuteplan.id=this.executeplanList[e].id,this.tmpexecuteplan.executeplanname=this.executeplanList[e].executeplanname,this.tmpexecuteplan.status=this.executeplanList[e].status,this.tmpexecuteplan.usetype=this.executeplanList[e].usetype,this.tmpexecuteplan.memo=this.executeplanList[e].memo,this.tmpexecuteplan.enviromentname=this.executeplanList[e].enviromentname,this.tmpexecuteplan.businesstype=this.executeplanList[e].businesstype,this.tmpexecuteplan.creator=this.name,this.tmpexecuteplan.runmode=this.executeplanList[e].runmode,console.log(this.tmpexecuteplan.runmode);for(var t=0;t<this.enviromentnameList.length;t++)this.enviromentnameList[t].enviromentname===this.tmpexecuteplan.enviromentname&&(this.tmpexecuteplan.envid=this.enviromentnameList[t].id)},addexecuteplantestcase:function(){var e=this;if(this.executeplancaseList=[],0===this.casemultipleSelection.length)this.$message.error("请选择装载的用例");else{for(var t=0;t<this.casemultipleSelection.length;t++)this.executeplancaseList.push({executeplanid:this.tmpexecuteplan.id,deployunitid:this.casemultipleSelection[t].deployunitid,apiid:this.casemultipleSelection[t].apiid,deployunitname:this.casemultipleSelection[t].deployunitname,apiname:this.casemultipleSelection[t].apiname,testcaseid:this.casemultipleSelection[t].id,casename:this.casemultipleSelection[t].casename});Object(h.a)(this.executeplancaseList).then(function(){e.$message.success("装载成功")}).catch(function(t){e.$message.error("装载失败")})}},removeexecuteplantestcase:function(){var e=this;if(this.executeplancaseremovetList=[],this.testcaselastList.length===this.casemultipleSelection.length)this.$message.error("未找到需要取消装载的用例");else{for(var t=0;t<this.testcaselastList.length;t++){for(var a=!1,i=0;i<this.casemultipleSelection.length;i++)if(this.testcaselastList[t].id===this.casemultipleSelection[i].id){a=!0;break}this.testcaselastList[t].id,a||this.executeplancaseremovetList.push({executeplanid:this.tmpexecuteplan.id,deployunitname:this.testcaselastList[t].deployunitname,apiname:this.testcaselastList[t].apiname,testcaseid:this.testcaselastList[t].id,casename:this.testcaselastList[t].casename})}console.log(this.executeplancaseremovetList),Object(h.e)(this.executeplancaseremovetList).then(function(){e.$message.success("取消装载用例成功")}).catch(function(t){e.$message.error("取消装载用例失败")})}},showTestCaseDialog:function(e){this.casedialogFormVisible=!0,this.tmpexecuteplan.id=this.executeplanList[e].id,this.tmpexecuteplan.executeplanname=this.executeplanList[e].executeplanname,this.tmpexecuteplan.status=this.executeplanList[e].status,this.tmpexecuteplan.usetype=this.executeplanList[e].usetype,this.tmpexecuteplan.memo=this.executeplanList[e].memo,this.searchcase.deployunitname=null,this.searchcase.apiname=null,this.testcaselastList=[],this.casetotal=0},updateexecuteplan:function(){var e=this;this.$refs.tmpexecuteplan.validate(function(t){t&&Object(d.j)(e.tmpexecuteplan).then(function(){e.$message.success("更新成功"),e.getexecuteplanList(),e.dialogFormVisible=!1}).catch(function(t){e.$message.error("更新失败"),e.btnLoading=!1})})},removeexecuteplan:function(e){var t=this;this.$confirm("删除该执行计划？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a=t.executeplanList[e].id;Object(d.h)(a).then(function(){t.$message.success("删除成功"),t.getexecuteplanList()})}).catch(function(){t.$message.info("已取消删除")})},isUniqueDetail:function(e){for(var t=0;t<this.executeplanList.length;t++)if(this.executeplanList[t].id!==e.id&&this.executeplanList[t].executeplanname===e.executeplanname)return this.$message.error("执行计划名已存在"),!1;return!0}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[e.hasPermission("executeplan:list")?a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-refresh"},nativeOn:{click:function(t){return t.preventDefault(),e.getexecuteplanList(t)}}},[e._v("刷新")]):e._e(),e._v(" "),e.hasPermission("executeplan:list")?a("el-button",{attrs:{type:"success",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.showplanbatchDialog(t)}}},[e._v("运行")]):e._e()],1),e._v(" "),e.hasPermission("executeplan:search")?a("span",[a("el-form-item",[a("el-input",{attrs:{placeholder:"任务名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchBy(t)}},model:{value:e.search.executeplanname,callback:function(t){e.$set(e.search,"executeplanname",t)},expression:"search.executeplanname"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"businesstype",label:"业务类型："}},[a("el-select",{attrs:{placeholder:"业务类型"},model:{value:e.search.businesstype,callback:function(t){e.$set(e.search,"businesstype",t)},expression:"search.businesstype"}},[a("el-option",{attrs:{label:"请选择",value:""}}),e._v(" "),e._l(e.planbusinessdiclist,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.dicitmevalue,value:e.dicitmevalue}})],1)})],2)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchBy}},[e._v("查询")])],1)],1):e._e()],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemplanKey,ref:"fileTable",attrs:{data:e.executeplanList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""},on:{"row-click":e.handleClickTableRow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),a("el-table-column",{attrs:{label:"编号",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.getIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"任务名称",align:"center",prop:"executeplanname",width:"100"}}),e._v(" "),e.show?a("el-table-column",{attrs:{label:"envid",align:"center",prop:"envid",width:"50"}}):e._e(),e._v(" "),e.show?a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",width:"50"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"业务类型",align:"center",prop:"businesstype",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"执行环境",align:"center",prop:"enviromentname",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",align:"center",prop:"usetype",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{label:"运行模式",align:"center",prop:"runmode",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作人",align:"center",prop:"creator",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{label:"描述",align:"center",prop:"memo",width:"220"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n      ")]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.search.page,"page-size":e.search.size,total:e.total,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:e.loadbatch,visible:e.batchdialogFormVisible},on:{"update:visible":function(t){e.batchdialogFormVisible=t}}},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"tmpplanbatch",attrs:{model:e.tmpplanbatch}},[a("el-form-item",{attrs:{label:"执行计划：",prop:"batchname",required:""}},[a("el-input",{staticStyle:{width:"60%"},attrs:{type:"text",maxlength:"50",placeholder:"例如2020-10-21-tag-101","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpplanbatch.batchname,callback:function(t){e.$set(e.tmpplanbatch,"batchname","string"==typeof t?t.trim():t)},expression:"tmpplanbatch.batchname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"执行类型：",prop:"exectype",required:""}},[a("el-select",{staticStyle:{width:"60%"},attrs:{placeholder:"执行类型"},on:{change:function(t){return e.exectypeselectChanged(t)}},model:{value:e.tmpplanbatch.exectype,callback:function(t){e.$set(e.tmpplanbatch,"exectype",t)},expression:"tmpplanbatch.exectype"}},[a("el-option",{attrs:{label:"立即执行",value:"立即执行"}}),e._v(" "),a("el-option",{attrs:{label:"某天定时",value:"某天定时"}}),e._v(" "),a("el-option",{attrs:{label:"每天定时",value:"每天定时"}})],1)],1),e._v(" "),e.datevisible?a("div",[a("el-form-item",{attrs:{label:"选择日期：",prop:"exectmpdate",required:""}},[a("el-date-picker",{staticStyle:{width:"60%"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.tmpplanbatch.exectmpdate,callback:function(t){e.$set(e.tmpplanbatch,"exectmpdate",t)},expression:"tmpplanbatch.exectmpdate"}})],1)],1):e._e(),e._v(" "),e.timevisible?a("div",[a("el-form-item",{attrs:{label:"选择时刻：",prop:"exectime",required:""}},[a("el-time-select",{staticStyle:{width:"60%"},attrs:{"picker-options":{start:"00:05",step:"00:10",end:"23:55"},placeholder:"选择时间"},model:{value:e.tmpplanbatch.exectime,callback:function(t){e.$set(e.tmpplanbatch,"exectime",t)},expression:"tmpplanbatch.exectime"}})],1)],1):e._e()],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.batchdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",loading:e.execbtnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.savebatchandexecuteplancase(t)}}},[e._v("执行")])],1)])],1)},staticRenderFns:[]},S=a("VU/8")(L,y,!1,null,null,null);t.default=S.exports},Ru7v:function(e,t,a){"use strict";t.c=function(e){return Object(i.a)({url:"/executeplan/params/searchparamsbyepid",method:"post",data:e})},t.a=function(e){return Object(i.a)({url:"/executeplan/params",method:"post",data:e})},t.d=function(e){return Object(i.a)({url:"/executeplan/params/detail",method:"put",data:e})},t.b=function(e){return Object(i.a)({url:"/executeplan/params/"+e,method:"delete"})};var i=a("vLgD")}});