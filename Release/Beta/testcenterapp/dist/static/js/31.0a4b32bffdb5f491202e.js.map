{"version":3,"sources":["webpack:///src/views/table/index.vue","webpack:///./src/api/table.js","webpack:///./src/views/table/index.vue?c575","webpack:///./src/views/table/index.vue"],"names":["table","filters","statusFilter","status","published","draft","deleted","data","accountList","roleList","filterRoleNameList","listLoading","total","listQuery","page","size","list","created","this","getAccountList","methods","unix2CurrentTime","params","_this","Object","request","url","method","then","response","i","length","filterObject","text","roleName","value","push","catch","res","$message","error","handleSizeChange","handleCurrentChange","getIndex","index","views_table","render","_vm","_h","$createElement","_c","_self","staticClass","directives","name","rawName","expression","modifiers","body","attrs","element-loading-text","border","fit","highlight-current-row","label","align","width","scopedSlots","_u","key","fn","scope","domProps","textContent","_s","$index","_v","prop","row","registerTime","loginTime","current-page","page-size","page-sizes","layout","on","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"0HAyCAA,GACAC,SACAC,aADA,SACAC,GAMA,OAJAC,UAAA,UACAC,MAAA,OACAC,QAAA,UAEAH,KAGAI,KAXA,WAYA,OACAC,eACAC,YACAC,sBACAC,aAAA,EACAC,MAAA,EACAC,WACAC,KAAA,EACAC,KAAA,EACAC,KAAA,KACAL,aAAA,KAKAM,QA3BA,WA4BAC,KAAAC,kBAGAC,SACAC,2BAAA,EAKAF,eANA,WAMA,IC5EwBG,ED4ExBC,EAAAL,KACAA,KAAAP,aAAA,GC7EwBW,ED8ExBJ,KAAAL,UC7ESW,OAAAC,EAAA,EAAAD,EACLE,IAAK,QACLC,OAAQ,MACRL,YD0EJM,KAAA,SAAAC,GACAN,EAAAf,YAAAqB,EAAAtB,KAAAS,KACAO,EAAAX,MAAAiB,EAAAtB,KAAAK,MACA,QAAAkB,EAAA,EAAAA,EAAAP,EAAAf,YAAAuB,OAAAD,IAAA,CACA,IAAAE,KACAA,EAAAC,KAAAV,EAAAf,YAAAsB,GAAAI,SACAF,EAAAG,MAAAZ,EAAAf,YAAAsB,GAAAI,SACAX,EAAAb,mBAAA0B,KAAAJ,GAEAT,EAAAZ,aAAA,IACA0B,MAAA,SAAAC,GACAf,EAAAgB,SAAAC,MAAA,eAQAC,iBA3BA,SA2BA1B,GACAG,KAAAL,UAAAE,OACAG,KAAAL,UAAAC,KAAA,EACAI,KAAAC,kBAMAuB,oBApCA,SAoCA5B,GACAI,KAAAL,UAAAC,OACAI,KAAAC,kBASAwB,SA/CA,SA+CAC,GACA,OAAA1B,KAAAL,UAAAC,KAAA,GAAAI,KAAAL,UAAAE,KAAA6B,EAAA,KErHAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAA7B,KAAa8B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,YAAiBG,aAAaC,KAAA,UAAAC,QAAA,iBAAApB,MAAAY,EAAA,YAAAS,WAAA,cAAAC,WAAoGC,MAAA,KAAaC,OAASpD,KAAAwC,EAAAvC,YAAAoD,uBAAA,UAAAC,OAAA,GAAAC,IAAA,GAAAC,wBAAA,MAAyGb,EAAA,mBAAwBS,OAAOK,MAAA,KAAAC,MAAA,SAAAC,MAAA,MAA2CC,YAAApB,EAAAqB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAArB,EAAA,QAAmBsB,UAAUC,YAAA1B,EAAA2B,GAAA3B,EAAAJ,SAAA4B,EAAAI,mBAAyD5B,EAAA6B,GAAA,KAAA1B,EAAA,mBAAoCS,OAAOK,MAAA,MAAAC,MAAA,SAAAY,KAAA,OAAAX,MAAA,QAA2DnB,EAAA6B,GAAA,KAAA1B,EAAA,mBAAoCS,OAAOK,MAAA,KAAAC,MAAA,SAAAY,KAAA,QAAAX,MAAA,SAA4DnB,EAAA6B,GAAA,KAAA1B,EAAA,mBAAoCS,OAAOK,MAAA,OAAAC,MAAA,SAAAY,KAAA,eAAAX,MAAA,OAAoEC,YAAApB,EAAAqB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAxB,EAAA6B,GAAA7B,EAAA2B,GAAA3B,EAAA1B,iBAAAkD,EAAAO,IAAAC,uBAA0EhC,EAAA6B,GAAA,KAAA1B,EAAA,mBAAoCS,OAAOK,MAAA,SAAAC,MAAA,SAAAY,KAAA,YAAAX,MAAA,OAAmEC,YAAApB,EAAAqB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAxB,EAAA6B,GAAA7B,EAAA2B,GAAAH,EAAAO,IAAAE,UAAAjC,EAAA1B,iBAAAkD,EAAAO,IAAAE,WAAA,2BAAiHjC,EAAA6B,GAAA,KAAA1B,EAAA,mBAAoCS,OAAOK,MAAA,KAAAC,MAAA,SAAAY,KAAA,WAAAX,MAAA,UAA+D,GAAAnB,EAAA6B,GAAA,KAAA1B,EAAA,iBAAsCS,OAAOsB,eAAAlC,EAAAlC,UAAAC,KAAAoE,YAAAnC,EAAAlC,UAAAE,KAAAH,MAAAmC,EAAAnC,MAAAuE,cAAA,YAAAC,OAAA,2CAAmKC,IAAKC,cAAAvC,EAAAN,iBAAA8C,iBAAAxC,EAAAL,wBAA6E,IAE5qD8C,oBCYjBC,EAdAC,EAAA,OAcAC,CACA3F,EACA6C,GATA,EAEA,KAEA,KAEA,MAUA+C,EAAA,QAAAH,EAAA","file":"static/js/31.0a4b32bffdb5f491202e.js","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-table\n      :data=\"accountList\"\n      v-loading.body=\"listLoading\"\n      element-loading-text=\"loading\"\n      border\n      fit\n      highlight-current-row\n    >\n      <el-table-column label=\"编号\" align=\"center\" width=\"60\">\n        <template slot-scope=\"scope\">\n          <span v-text=\"getIndex(scope.$index)\"></span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"账户名\" align=\"center\" prop=\"name\" width=\"80\"/>\n      <el-table-column label=\"邮箱\" align=\"center\" prop=\"email\" width=\"200\"/>\n      <el-table-column label=\"注册时间\" align=\"center\" prop=\"registerTime\" width=\"160\">\n        <template slot-scope=\"scope\">{{ unix2CurrentTime(scope.row.registerTime) }}</template>\n      </el-table-column>\n      <el-table-column label=\"最后登录时间\" align=\"center\" prop=\"loginTime\" width=\"160\">\n        <template slot-scope=\"scope\">{{ scope.row.loginTime ? unix2CurrentTime(scope.row.loginTime) : '从未登录' }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"角色\" align=\"center\" prop=\"roleName\" width=\"120\"/>\n    </el-table>\n    <el-pagination\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page=\"listQuery.page\"\n      :page-size=\"listQuery.size\"\n      :total=\"total\"\n      :page-sizes=\"[9, 18, 36, 72]\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n    ></el-pagination>\n  </div>\n</template>\n<script>\n  import { getList as getAccountList } from '@/api/table'\n  import { unix2CurrentTime } from '@/utils'\n\n  export default {\n    filters: {\n      statusFilter(status) {\n        const statusMap = {\n          published: 'success',\n          draft: 'gray',\n          deleted: 'danger'\n        }\n        return statusMap[status]\n      }\n    },\n    data() {\n      return {\n        accountList: [], // 用户列表\n        roleList: [], // 全部角色\n        filterRoleNameList: [], // 用于过滤表格角色的列表 http://element-cn.eleme.io/#/zh-CN/component/table#shai-xuan\n        listLoading: false, // 数据加载等待动画\n        total: 0, // 数据总数\n        listQuery: {\n          page: 1, // 页码\n          size: 9, // 每页数量\n          list: null,\n          listLoading: true\n        }\n      }\n    },\n\n    created() {\n      this.getAccountList()\n    },\n\n    methods: {\n      unix2CurrentTime,\n\n      /**\n       * 获取用户列表\n       */\n      getAccountList() {\n        this.listLoading = true\n        getAccountList(this.listQuery).then(response => {\n          this.accountList = response.data.list\n          this.total = response.data.total\n          for (let i = 0; i < this.accountList.length; i++) {\n            const filterObject = {}\n            filterObject.text = this.accountList[i].roleName\n            filterObject.value = this.accountList[i].roleName\n            this.filterRoleNameList.push(filterObject)\n          }\n          this.listLoading = false\n        }).catch(res => {\n          this.$message.error('加载账户列表失败')\n        })\n      },\n\n      /**\n       * 改变每页数量\n       * @param size 页大小\n       */\n      handleSizeChange(size) {\n        this.listQuery.size = size\n        this.listQuery.page = 1\n        this.getAccountList()\n      },\n      /**\n       * 改变页码\n       * @param page 页号\n       */\n      handleCurrentChange(page) {\n        this.listQuery.page = page\n        this.getAccountList()\n      },\n      /**\n       * 表格序号\n       * 可参考自定义表格序号\n       * http://element-cn.eleme.io/#/zh-CN/component/table#zi-ding-yi-suo-yin\n       * @param index 数据下标\n       * @returns 表格序号\n       */\n      getIndex(index) {\n        return (this.listQuery.page - 1) * this.listQuery.size + index + 1\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/table/index.vue","import request from '@/utils/request'\n\nexport function getList(params) {\n  return request({\n    url: '/test',\n    method: 'get',\n    params\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/table.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.listLoading),expression:\"listLoading\",modifiers:{\"body\":true}}],attrs:{\"data\":_vm.accountList,\"element-loading-text\":\"loading\",\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"编号\",\"align\":\"center\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{domProps:{\"textContent\":_vm._s(_vm.getIndex(scope.$index))}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"账户名\",\"align\":\"center\",\"prop\":\"name\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"邮箱\",\"align\":\"center\",\"prop\":\"email\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"注册时间\",\"align\":\"center\",\"prop\":\"registerTime\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm.unix2CurrentTime(scope.row.registerTime)))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"最后登录时间\",\"align\":\"center\",\"prop\":\"loginTime\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.loginTime ? _vm.unix2CurrentTime(scope.row.loginTime) : '从未登录')+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"角色\",\"align\":\"center\",\"prop\":\"roleName\",\"width\":\"120\"}})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"current-page\":_vm.listQuery.page,\"page-size\":_vm.listQuery.size,\"total\":_vm.total,\"page-sizes\":[9, 18, 36, 72],\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-625ce575\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/table/index.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-625ce575\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/table/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}