webpackJsonp([8],{e7ci:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),s=a.n(i),n=a("Dd8w"),p=a.n(n),o=a("mtWM"),l=a.n(o),r=a("W+bg"),d=a("XcM5"),m=a("L6vm"),c=a("nAq6"),u=a("0xDb"),y=a("NYxO"),h=a("IcnI"),f={filters:{statusFilter:function(e){return{published:"success",draft:"gray",deleted:"danger"}[e]}},data:function(){return{fileName:"",fileList:[],dialogAddFile:!1,Headertabledatas:[],Paramstabledatas:[],Bodytabledatas:[],multipleSelection:[],activeName:"zero",fileurl:window.g.SERVER_URL+"/api/exportpostman",paramsplaceholder:"",itemKey:null,tmpapiname:"",tmpdeployunitname:"",apiList:[],sourceapiList:[],visittypeList:[],deployunitList:[],apiparamsList:[],paramlist:[],requestcontentList:[],responecontenttypeList:[],requestcontenttypeVisible:!0,BodyVisible:!1,BodyDataVisible:!1,BodyParamDataVisible:!1,listLoading:!1,dicvisitypeQuery:{page:1,size:30,diccode:"httpvisittype"},dicrequestypeQuery:{page:1,size:30,diccode:"requestcontentype"},dicresponetypeQuery:{page:1,size:30,diccode:"responecontenttype"},total:0,listQuery:{page:1,size:20,listLoading:!0,apiname:"",deployunitname:""},dialogStatus:"add",ParamsdialogStatus:"add",CopyApi:"复制API",CopydialogFormVisible:!1,dialogFormVisible:!1,ParamsdialogFormVisible:!1,NewParamsdialogFormVisible:!1,ModifydialogFormVisible:!1,textMap:{updateRole:"修改API",update:"修改API",add:"添加API"},paramstextMap:{updateRole:"修改API参数",update:"修改API参数",add:"添加API参数"},btnLoading:!1,tmpapi:{id:"",deployunitid:"",deployunitname:"",apiname:"",visittype:"",requesttype:"",apistyle:"",path:"",requestcontenttype:"",responecontenttype:"",memo:"",creator:""},tmpcopyapi:{sourceapiid:"",sourceapiname:"",sourcedeployunitid:"",sourcedeployunitname:"",objectdeployunitid:"",objectdeployunitname:"",newapiname:""},tmpapiparams:{id:"",apiid:"",deployunitid:"",apiname:"",deployunitname:"",propertytype:"",keyname:"",keytype:"",keydefaultvalue:"",creator:""},tmpqueryparams:{apiid:"",propertytype:""},tmpqueryheader:{apiid:"",propertytype:""},tmpquerybody:{apiid:"",propertytype:""},search:{page:1,size:10,apiname:null,deployunitname:null},uploadData:{deployid:"",deptname:"",apistyle:""}}},computed:p()({},Object(y.b)(["name","sidebar","avatar"])),created:function(){this.Headertabledatas=[{id:"",keyname:"",keytype:"",keydefaultvalue:"",propertytype:"Header",creator:""}],this.Paramstabledatas=[{id:"",keyname:"",keytype:"",keydefaultvalue:"",propertytype:"Params",creator:""}],this.Bodytabledatas=[{id:"",keyname:"",keytype:"",keydefaultvalue:"",propertytype:"Body",creator:""}],this.Paramstabledatas.map(function(e){return e.show=!1,e}),this.getapiList(),this.getvisittypeList(),this.getrequestcontenttypeList(),this.getresponecontenttypeList(),this.getdepunitLists(),this.editAll(),this.editParamAll()},methods:{copeHeader:function(e,t){var a={id:"",keyname:"",keytype:"",keydefaultvalue:"",propertytype:"Header",apiid:"",apiname:"",deployunitid:"",deployunitname:"",creator:this.name};console.log(a),this.Headertabledatas.splice(t+1,0,JSON.parse(s()(a)))},copeParam:function(e,t){var a={id:"",keyname:"",keytype:"",keydefaultvalue:"",propertytype:"Params",apiid:"",apiname:"",deployunitid:"",deployunitname:"",creator:this.name};console.log(a),this.Paramstabledatas.splice(t+1,0,JSON.parse(s()(a)))},copeBodyParam:function(e,t){var a={id:"",keyname:"",keytype:"",keydefaultvalue:"",propertytype:"Body",apiid:"",apiname:"",deployunitid:"",deployunitname:"",creator:this.name};console.log(a),this.Bodytabledatas.splice(t+1,0,JSON.parse(s()(a)))},delectHeader:function(e){var t=this;if(console.log(this.Headertabledatas),""!==this.Headertabledatas[e].id)this.$confirm("删除参数，用到此参数的所有用例值会跟随一起删除？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a=t.Headertabledatas[e].id;Object(c.e)(a).then(function(){if(t.$message.success("删除成功"),t.Headertabledatas.splice(e,1),0===t.Headertabledatas.length){var a={id:"",keyname:"",keytype:"",keydefaultvalue:"",propertytype:"Header",apiid:"",apiname:"",deployunitid:"",deployunitname:"",creator:t.name};t.Headertabledatas.splice(1,0,JSON.parse(s()(a))),console.log(t.Headertabledatas)}t.$foreceUpdate()})}).catch(function(){t.$message.info("删除取消")});else{if(this.Headertabledatas.splice(e,1),console.log(this.Headertabledatas.length),0===this.Headertabledatas.length){var a={id:"",keyname:"",keytype:"",keydefaultvalue:"",propertytype:"Header",apiid:"",apiname:"",deployunitid:"",deployunitname:"",creator:this.name};this.Headertabledatas.splice(1,0,JSON.parse(s()(a))),console.log(this.Headertabledatas)}this.$foreceUpdate()}},delectParam:function(e){var t=this;if(console.log(this.Paramstabledatas),""!==this.Paramstabledatas[e].id)this.$confirm("删除参数，用到此参数的所有用例值会跟随一起删除？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a=t.Paramstabledatas[e].id;Object(c.e)(a).then(function(){if(t.$message.success("删除成功"),t.Paramstabledatas.splice(e,1),0===t.Paramstabledatas.length){var a={id:"",keyname:"",keytype:"",keydefaultvalue:"",propertytype:"Params",apiid:"",apiname:"",deployunitid:"",deployunitname:"",creator:t.name};t.Paramstabledatas.splice(1,0,JSON.parse(s()(a))),console.log(t.Paramstabledatas)}t.$foreceUpdate()})}).catch(function(){t.$message.info("删除取消")});else{if(this.Paramstabledatas.splice(e,1),console.log(this.Paramstabledatas.length),0===this.Paramstabledatas.length){var a={id:"",keyname:"",keytype:"",keydefaultvalue:"",propertytype:"Params",apiid:"",apiname:"",deployunitid:"",deployunitname:"",creator:this.name};this.Paramstabledatas.splice(1,0,JSON.parse(s()(a))),console.log(this.Paramstabledatas)}this.$foreceUpdate()}},delectBodyParam:function(e){var t=this;if(console.log(this.Bodytabledatas),""!==this.Bodytabledatas[e].id)this.$confirm("删除参数，用到此参数的所有用例值会跟随一起删除？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a=t.Bodytabledatas[e].id;Object(c.e)(a).then(function(){if(t.$message.success("删除成功"),t.Bodytabledatas.splice(e,1),0===t.Bodytabledatas.length){var a={id:"",keyname:"",keytype:"",keydefaultvalue:"",propertytype:"Body",apiid:"",apiname:"",deployunitid:"",deployunitname:"",creator:t.name};t.Bodytabledatas.splice(1,0,JSON.parse(s()(a))),console.log(t.Bodytabledatas)}t.$foreceUpdate()})}).catch(function(){t.$message.info("删除取消")});else{if(this.Bodytabledatas.splice(e,1),console.log(this.Bodytabledatas.length),0===this.Bodytabledatas.length){var a={id:"",keyname:"",keytype:"",keydefaultvalue:"",propertytype:"Body",apiid:"",apiname:"",deployunitid:"",deployunitname:"",creator:this.name};this.Bodytabledatas.splice(1,0,JSON.parse(s()(a))),console.log(this.Bodytabledatas)}this.$foreceUpdate()}},unix2CurrentTime:u.b,handleChange:function(e,t){this.fileList=t,console.log(t)},removehandleChange:function(e,t){this.fileList=[],console.log(t)},upload:function(){var e=this;this.$refs.uploadData.validate(function(t){if(t){if(0===e.fileList.length)return e.$message.warning("请选择PostMan导出的json文件！"),!1;var a=new FormData;a.append("deployid",e.uploadData.deployid),a.append("deployunitname",e.uploadData.deptname),a.append("apistyle",e.uploadData.apistyle),a.append("creator",e.name),e.fileList.forEach(function(e){a.append("file",e.raw)}),l.a.post(e.fileurl,a,{headers:{Authorization:h.a.getters.token,"Content-Type":"multipart/form-data"}}).then(function(t){200===t.data.code?(e.dialogAddFile=!1,e.getapiList(),e.$message.success("上传完成")):e.$message.error(t.data.message)})}})},selectChanged:function(e){for(var t=0;t<this.deployunitList.length;t++)this.deployunitList[t].deployunitname===e&&(this.tmpapi.deployunitid=this.deployunitList[t].id),console.log(this.deployunitList[t].id)},uploadselectChanged:function(e){for(var t=0;t<this.deployunitList.length;t++)this.deployunitList[t].deployunitname===e&&(this.uploadData.deployid=this.deployunitList[t].id),console.log(this.deployunitList[t].id)},paratypeselectChanged:function(e){this.tmpapiparams.keyname="",this.tmpapiparams.bodytype="","Body"===this.tmpapiparams.propertytype?(this.BodyVisible=!0,this.paramsplaceholder='支持json，xml格式，例如：\n{\n  "id": "",\n  "enviromentname": "sdsds",\n  "envtype": "功能",\n  "memo": "sadadada",\n  "creator": "admin"\n}'):(this.paramsplaceholder="多个参数使用英文逗号隔开，例如：id,enviromentname,envtype,memo,creator",this.BodyVisible=!1)},submittypeselectChanged:function(e){this.tmpapiparams.keyname="","Body"===this.tmpapiparams.propertytype?(this.BodyVisible=!0,"表单"===this.tmpapiparams.bodytype?this.paramsplaceholder="多个参数使用英文逗号隔开，例如：id,enviromentname,envtype,memo,creator":this.paramsplaceholder='支持json，xml格式，例如：\n{\n  "id": "",\n  "enviromentname": "sdsds",\n  "envtype": "功能",\n  "memo": "sadadada",\n  "creator": "admin"\n}'):(this.paramsplaceholder="多个参数使用英文逗号隔开，例如：id,enviromentname,envtype,memo,creator",this.BodyVisible=!1)},CopyAPISourceDeployselectChanged:function(e){for(var t=this,a=0;a<this.deployunitList.length;a++)this.deployunitList[a].deployunitname===e&&(this.tmpcopyapi.sourcedeployunitid=this.deployunitList[a].id);Object(r.f)(this.tmpcopyapi).then(function(e){t.sourceapiList=e.data}).catch(function(e){t.$message.error("根据发布单元id获取api列表失败")})},CopySourceAPIChanged:function(e){for(var t=0;t<this.sourceapiList.length;t++)this.sourceapiList[t].apiname===e&&(this.tmpcopyapi.sourceapiid=this.sourceapiList[t].id)},CopyObjectAPIDeployUnitChanged:function(e){for(var t=0;t<this.deployunitList.length;t++)this.deployunitList[t].deployunitname===e&&(this.tmpcopyapi.objectdeployunitid=this.deployunitList[t].id)},copyapi:function(){var e=this;this.$refs.tmpcopyapi.validate(function(t){t&&(e.btnLoading=!0,Object(r.b)(e.tmpcopyapi).then(function(){e.$message.success("复制成功"),e.getapiList(),e.CopydialogFormVisible=!1,e.btnLoading=!1}).catch(function(t){e.$message.error("复制失败"),e.btnLoading=!1}))})},visitypeselectChanged:function(e){},getapiList:function(){var e=this;console.log(this.search),this.listLoading=!0,this.search.apiname=this.tmpapiname,this.search.deployunitname=this.tmpdeployunitname,Object(r.i)(this.search).then(function(t){e.apiList=t.data.list,e.total=t.data.total,e.listLoading=!1}).catch(function(t){e.$message.error("加载api列表失败")})},searchparamsbyapiid:function(){var e=this;Object(c.h)(this.tmpparamsapi).then(function(t){e.apiparamsList=t.data.list}).catch(function(t){e.$message.error("加载apiparams列表失败")})},getvisittypeList:function(){var e=this;Object(m.b)(this.dicvisitypeQuery).then(function(t){e.visittypeList=t.data.list}).catch(function(t){e.$message.error("加载字典访问方式列表失败")})},getrequestcontenttypeList:function(){var e=this;Object(m.b)(this.dicrequestypeQuery).then(function(t){e.requestcontentList=t.data.list}).catch(function(t){e.$message.error("加载请求数据格式列表失败")})},getBodyNoFormbyapiid:function(){var e=this,t={apiid:this.tmpapi.id,propertytype:"Body",keytype:this.tmpapi.requestcontenttype};Object(c.c)(t).then(function(t){e.tmpapiparams=t.data,console.log(e.tmpapiparams)}).catch(function(t){e.$message.error("获取Body非Form表单数据失败")})},searchParamsbyidandproperty:function(){var e=this;Object(c.g)(this.tmpqueryparams).then(function(t){if(e.Paramstabledatas=t.data,0===e.Paramstabledatas.length){var a={id:"",keyname:"",keytype:"",keydefaultvalue:"",propertytype:"Params",apiid:"",apiname:"",deployunitid:"",deployunitname:"",creator:e.name};e.Paramstabledatas.splice(1,0,JSON.parse(s()(a)))}}).catch(function(t){e.$message.error("加载请求数据格式列表失败")})},searchHeaderbyidandproperty:function(){var e=this;Object(c.g)(this.tmpqueryheader).then(function(t){if(e.Headertabledatas=t.data,0===e.Headertabledatas.length){var a={id:"",keyname:"",keytype:"",keydefaultvalue:"",propertytype:"Header",apiid:"",apiname:"",deployunitid:"",deployunitname:"",creator:e.name};e.Headertabledatas.splice(1,0,JSON.parse(s()(a)))}}).catch(function(t){e.$message.error("加载请求数据格式列表失败")})},searchBodybyidandproperty:function(){var e=this;Object(c.g)(this.tmpquerybody).then(function(t){if(e.Bodytabledatas=t.data,0===e.Bodytabledatas.length){var a={id:"",keyname:"",keytype:"",keydefaultvalue:"",propertytype:"Body",apiid:"",apiname:"",deployunitid:"",deployunitname:"",creator:e.name};e.Bodytabledatas.splice(1,0,JSON.parse(s()(a)))}}).catch(function(t){e.$message.error("加载请求数据格式列表失败")})},getresponecontenttypeList:function(){var e=this;Object(m.b)(this.dicresponetypeQuery).then(function(t){e.responecontenttypeList=t.data.list}).catch(function(t){e.$message.error("加载响应数据格式列表失败")})},getdepunitLists:function(){var e=this;this.listLoading=!0,Object(d.e)().then(function(t){e.deployunitList=t.data,e.total=t.data.total,e.listLoading=!1}).catch(function(t){e.$message.error("加载发布单元列表失败")})},searchBy:function(){var e=this;this.search.page=1,this.listLoading=!0,Object(r.i)(this.search).then(function(t){e.itemKey=Math.random(),e.apiList=t.data.list,e.total=t.data.total}).catch(function(t){e.$message.error("搜索失败")}),this.listLoading=!1,this.btnLoading=!1,this.tmpapiname=this.search.apiname,this.tmpdeployunitname=this.search.deployunitname},handleSizeChange:function(e){this.search.page=1,this.search.size=e,this.getapiList()},handleCurrentChange:function(e){this.search.page=e,this.getapiList()},getIndex:function(e){return(this.search.page-1)*this.search.size+e+1},paramgetIndex:function(e){return(this.paramssearch.page-1)*this.paramssearch.size+e+1},showAddapiparamsDialog:function(){this.BodyVisible=!1,this.ModifydialogFormVisible=!0,this.ParamsdialogStatus="add",this.tmpapiparams.id="",this.tmpapiparams.keyname="",this.tmpapiparams.deployunitname="",this.tmpapiparams.apiname="",this.tmpapiparams.propertytype="",this.tmpapiparams.deployunitid="",this.tmpapiparams.bodytype="",this.tmpapiparams.creator=this.name},showAddapiDialog:function(){this.dialogFormVisible=!0,this.dialogStatus="add",this.tmpapi.id="",this.tmpapi.deployunitid="",this.tmpapi.deployunitname="",this.tmpapi.apiname="",this.tmpapi.visittype="",this.tmpapi.requesttype="",this.tmpapi.apistyle="",this.tmpapi.path="",this.tmpapi.requestcontenttype="",this.tmpapi.responecontenttype="",this.tmpapi.memo="",this.tmpapi.creator=this.name},showPostManDialog:function(){this.dialogAddFile=!0,this.uploadData.deployid="",this.uploadData.deptname="",this.uploadData.apistyle="",this.fileList=[]},showCopyapiDialog:function(){this.CopydialogFormVisible=!0,this.tmpcopyapi.sourceapiid="",this.tmpcopyapi.sourceapiname="",this.tmpcopyapi.sourcedeployunitid="",this.tmpcopyapi.sourcedeployunitname="",this.tmpcopyapi.objectdeployunitid="",this.tmpcopyapi.objectdeployunitname="",this.tmpcopyapi.newapiname=""},addapi:function(){var e=this;this.$refs.tmpapi.validate(function(t){t&&(e.btnLoading=!0,e.tmpapi.path=e.tmpapi.path.trim(),Object(r.a)(e.tmpapi).then(function(){e.$message.success("添加成功"),e.getapiList(),e.dialogFormVisible=!1,e.btnLoading=!1}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1}))})},addapiallparams:function(e){for(var t=this,a=0;a<this.Headertabledatas.length;a++)this.Headertabledatas[a].apiid=this.tmpapi.id,this.Headertabledatas[a].apiname=this.tmpapi.apiname,this.Headertabledatas[a].deployunitid=this.tmpapi.deployunitid,this.Headertabledatas[a].deployunitname=this.tmpapi.deployunitname,this.Headertabledatas[a].creator=this.name;Object(c.a)(this.Headertabledatas).then(function(){t.$message.success("添加Header成功")}).catch(function(e){t.$message.error("添加Header失败")});for(var i=0;i<this.Paramstabledatas.length;i++)this.Paramstabledatas[i].apiid=this.tmpapi.id,this.Paramstabledatas[i].apiname=this.tmpapi.apiname,this.Paramstabledatas[i].deployunitid=this.tmpapi.deployunitid,this.Paramstabledatas[i].deployunitname=this.tmpapi.deployunitname,this.Paramstabledatas[i].creator=this.name;if(Object(c.a)(this.Paramstabledatas).then(function(){t.$message.success("添加Params成功")}).catch(function(e){t.$message.error("添加Params失败")}),console.log(this.tmpapi.requestcontenttype),"Form表单"===this.tmpapi.requestcontenttype){for(var s=0;s<this.Bodytabledatas.length;s++)this.Bodytabledatas[s].apiid=this.tmpapi.id,this.Bodytabledatas[s].apiname=this.tmpapi.apiname,this.Bodytabledatas[s].deployunitid=this.tmpapi.deployunitid,this.Bodytabledatas[s].deployunitname=this.tmpapi.deployunitname,this.Bodytabledatas[s].creator=this.name;Object(c.a)(this.Bodytabledatas).then(function(){t.$message.success("添加Body成功")}).catch(function(e){t.$message.error("添加Body失败")})}else console.log(this.tmpapiparams.keyname),void 0===this.tmpapiparams.keyname?(this.tmpapiparams.keyname="",this.addapiparams()):this.addapiparams();this.NewParamsdialogFormVisible=!1},addapiparams:function(){var e=this;this.$refs.tmpapiparams.validate(function(t){t&&(e.tmpapiparams.keydefaultvalue="NoForm",e.tmpapiparams.propertytype="Body",e.tmpapiparams.keytype=e.tmpapi.requestcontenttype,e.tmpapiparams.apiid=e.tmpapi.id,e.tmpapiparams.apiname=e.tmpapi.apiname,e.tmpapiparams.deployunitid=e.tmpapi.deployunitid,e.tmpapiparams.deployunitname=e.tmpapi.deployunitname,Object(c.b)(e.tmpapiparams).then(function(){e.$message.success("添加Body成功")}).catch(function(t){e.$message.error("添加Body失败")}))})},ShowParamsDialog:function(e){if(this.tmpparamsapi.apiid=this.apiList[e].id,this.searchparamsbyapiid(this.tmpparamsapi),this.ParamsdialogFormVisible=!0,this.tmpapiforparam.apiid=this.apiList[e].id,this.tmpapiforparam.apiname=this.apiList[e].apiname,this.tmpapiforparam.deployunitname=this.apiList[e].deployunitname,this.tmpapiforparam.deployunitid=this.apiList[e].deployunitid,this.tmpapiforparam.visittype=this.apiList[e].id.visittype,this.tmpapiforparam.requestcontenttype=this.apiList[e].requestcontenttype,this.paramlist=[],"get"===this.tmpapiparams.visittype){this.paramlist.push({value:"Header"}),this.paramlist.push({value:"Params"}),console.log(this.paramlist)}else{console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>");this.paramlist.push({value:"Header"}),this.paramlist.push({value:"Params"}),this.paramlist.push({value:"Body"}),console.log(this.paramlist)}},ShowNewParamsDialog:function(e){this.activeName="zero",this.tmpapi.id=this.apiList[e].id,this.tmpapi.deployunitid=this.apiList[e].deployunitid,this.tmpapi.deployunitname=this.apiList[e].deployunitname,this.tmpapi.apiname=this.apiList[e].apiname,this.NewParamsdialogFormVisible=!0,this.tmpqueryparams.apiid=this.apiList[e].id,this.tmpapi.requestcontenttype=this.apiList[e].requestcontenttype,"Form表单"===this.tmpapi.requestcontenttype?(this.BodyParamDataVisible=!0,this.BodyDataVisible=!1):(this.BodyDataVisible=!0,this.paramsplaceholder='支持Json，Xml，Text等其他文本格式，例如：\n{\n  "id": "",\n  "enviromentname": "sdsds",\n  "envtype": "功能",\n  "memo": "sadadada",\n  "creator": "admin"\n}',this.BodyParamDataVisible=!1),this.tmpqueryparams.propertytype="Params",this.searchParamsbyidandproperty(),this.tmpqueryheader.apiid=this.apiList[e].id,this.tmpqueryheader.propertytype="Header",this.searchHeaderbyidandproperty(),this.tmpquerybody.apiid=this.apiList[e].id,this.tmpquerybody.propertytype="Body","Form表单"===this.tmpapi.requestcontenttype?this.searchBodybyidandproperty():this.getBodyNoFormbyapiid()},showUpdateapiDialog:function(e){this.dialogFormVisible=!0,this.dialogStatus="update",this.tmpapi.id=this.apiList[e].id,this.tmpapi.deployunitid=this.apiList[e].deployunitid,this.tmpapi.deployunitname=this.apiList[e].deployunitname,this.tmpapi.apiname=this.apiList[e].apiname,this.tmpapi.visittype=this.apiList[e].visittype,this.tmpapi.requesttype=this.apiList[e].requesttype,this.tmpapi.path=this.apiList[e].path,this.tmpapi.apistyle=this.apiList[e].apistyle,this.tmpapi.responecontenttype=this.apiList[e].responecontenttype,this.tmpapi.memo=this.apiList[e].memo,this.tmpapi.creator=this.name,this.tmpapi.requestcontenttype=this.apiList[e].requestcontenttype},updateapi:function(){var e=this;this.$refs.tmpapi.validate(function(t){t&&(e.tmpapi.path=e.tmpapi.path.trim(),Object(r.j)(e.tmpapi).then(function(){e.$message.success("更新成功"),e.getapiList(),e.dialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1}))})},showUpdateapiparamsDialog:function(e){this.ModifydialogFormVisible=!0,this.ParamsdialogStatus="update",this.tmpapiparams.id=this.apiparamsList[e].id,this.tmpapiparams.keyname=this.apiparamsList[e].keynamebak,this.tmpapiparams.apiid=this.tmpapiforparam.apiid,this.tmpapiparams.apiname=this.tmpapiforparam.apiname,this.tmpapiparams.deployunitid=this.tmpapiforparam.deployunitid,this.tmpapiparams.deployunitname=this.apiparamsList[e].deployunitname,this.tmpapiparams.propertytype=this.apiparamsList[e].propertytype,this.tmpapiparams.bodytype=this.apiparamsList[e].bodytype,this.tmpapiparams.creator=this.name,"Body"===this.tmpapiparams.propertytype?(this.BodyVisible=!0,this.paralabel="参数(支持Json，Xml)"):(this.BodyVisible=!1,this.paralabel="参数(英文逗号隔开)")},updateapiparams:function(){var e=this;this.$refs.tmpapiparams.validate(function(t){t&&(e.tmpapiparams.keynamebak=e.tmpapiparams.keyname,Object(c.i)(e.tmpapiparams).then(function(){e.$message.success("更新成功"),e.searchparamsbyapiid(),e.ModifydialogFormVisible=!1}).catch(function(t){e.$message.error("添加失败"),e.btnLoading=!1}))})},removeapi:function(e){var t=this;this.$confirm("删除该api？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a=t.apiList[e].id;Object(r.h)(a).then(function(){t.$message.success("删除成功"),t.getapiList()})}).catch(function(){t.$message.info("已取消删除")})},removeapiparams:function(e){var t=this;this.$confirm("删除参数，用到此参数的所有用例值会跟随一起删除？","警告",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){var a=t.apiparamsList[e].id;Object(c.e)(a).then(function(){t.$message.success("删除成功"),t.searchparamsbyapiid()})}).catch(function(){t.$message.info("已取消删除")})},isUniqueDetail:function(e){console.log(e.id);for(var t=0;t<this.apiList.length;t++)if(this.apiList[t].id!==e.id&&(console.log(this.apiList[t].id),this.apiList[t].apiname===e.apiname))return this.$message.error("api名已存在"),!1;return!0}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[e.hasPermission("api:list")?a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-refresh"},nativeOn:{click:function(t){return t.preventDefault(),e.getapiList(t)}}},[e._v("刷新\n        ")]):e._e(),e._v(" "),e.hasPermission("api:add")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddapiDialog(t)}}},[e._v("添加API\n        ")]):e._e(),e._v(" "),e.hasPermission("api:add")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showCopyapiDialog(t)}}},[e._v("复制API\n        ")]):e._e(),e._v(" "),e.hasPermission("api:add")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showPostManDialog(t)}}},[e._v("导入PostMan\n        ")]):e._e()],1),e._v(" "),e.hasPermission("api:search")?a("span",[a("el-form-item",[a("el-input",{attrs:{placeholder:"api名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchBy(t)}},model:{value:e.search.apiname,callback:function(t){e.$set(e.search,"apiname",t)},expression:"search.apiname"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"发布单元名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchBy(t)}},model:{value:e.search.deployunitname,callback:function(t){e.$set(e.search,"deployunitname",t)},expression:"search.deployunitname"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.searchBy}},[e._v("查询")])],1)],1):e._e()],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.apiList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.getIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"API",align:"center",prop:"apiname",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"发布单元",align:"center",prop:"deployunitname",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"风格",align:"center",prop:"apistyle",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"访问方式",align:"center",prop:"visittype",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"路径",align:"center",prop:"path",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v(e._s(t.row.path))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"请求格式",align:"center",prop:"requestcontenttype",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作人",align:"center",prop:"creator",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.createTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最后修改时间",align:"center",prop:"lastmodifyTime",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.unix2CurrentTime(t.row.lastmodifyTime))+"\n      ")]}}])}),e._v(" "),e.hasPermission("api:update")||e.hasPermission("api:delete")?a("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("api:update")&&t.row.id!==e.id?a("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showUpdateapiDialog(t.$index)}}},[e._v("修改\n        ")]):e._e(),e._v(" "),e.hasPermission("api:delete")&&t.row.id!==e.id?a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.removeapi(t.$index)}}},[e._v("删除\n        ")]):e._e(),e._v(" "),e.hasPermission("api:delete")&&t.row.id!==e.id?a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.ShowNewParamsDialog(t.$index)}}},[e._v("API参数\n        ")]):e._e()]}}],null,!1,3828233032)}):e._e()],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.search.page,"page-size":e.search.size,total:e.total,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"tmpapi",staticClass:"small-space",staticStyle:{width:"450px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpapi}},[a("el-form-item",{attrs:{label:"API名称:",prop:"apiname",required:""}},[a("el-input",{attrs:{placeholder:"API名称",type:"text",maxlength:"40","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpapi.apiname,callback:function(t){e.$set(e.tmpapi,"apiname",t)},expression:"tmpapi.apiname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"请求方法:",prop:"visittype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请求方法"},on:{change:function(t){return e.visitypeselectChanged(t)}},model:{value:e.tmpapi.visittype,callback:function(t){e.$set(e.tmpapi,"visittype",t)},expression:"tmpapi.visittype"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.visittypeList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.dicitmevalue,value:e.dicitmevalue,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"API风格:",prop:"apistyle",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"api风格"},model:{value:e.tmpapi.apistyle,callback:function(t){e.$set(e.tmpapi,"apistyle",t)},expression:"tmpapi.apistyle"}},[a("el-option",{attrs:{label:"传统方式",value:"传统方式"}}),e._v(" "),a("el-option",{attrs:{label:"Restful",value:"Restful"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Url路径:",prop:"path"}},[a("el-input",{attrs:{type:"text",placeholder:"不用填写域名或者IP，例如：/user/login",maxlength:"200","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpapi.path,callback:function(t){e.$set(e.tmpapi,"path","string"==typeof t?t.trim():t)},expression:"tmpapi.path"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发布单元:",prop:"deployunitname",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"发布单元"},on:{change:function(t){return e.selectChanged(t)}},model:{value:e.tmpapi.deployunitname,callback:function(t){e.$set(e.tmpapi,"deployunitname",t)},expression:"tmpapi.deployunitname"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),e.requestcontenttypeVisible?a("div",[a("el-form-item",{attrs:{label:"请求数据格式:",prop:"requestcontenttype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请求数据格式"},model:{value:e.tmpapi.requestcontenttype,callback:function(t){e.$set(e.tmpapi,"requestcontenttype",t)},expression:"tmpapi.requestcontenttype"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.requestcontentList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.dicitmevalue,value:e.dicitmevalue,required:""}})],1)})],2)],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"备注:",prop:"memo"}},[a("el-input",{attrs:{type:"text",maxlength:"100","prefix-icon":"el-icon-message","auto-complete":"off"},model:{value:e.tmpapi.memo,callback:function(t){e.$set(e.tmpapi,"memo",t)},expression:"tmpapi.memo"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.dialogStatus?a("el-button",{attrs:{type:"danger"},nativeOn:{click:function(t){return t.preventDefault(),e.$refs.tmpapi.resetFields()}}},[e._v("重置\n      ")]):e._e(),e._v(" "),"add"===e.dialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addapi(t)}}},[e._v("添加\n      ")]):e._e(),e._v(" "),"update"===e.dialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updateapi(t)}}},[e._v("修改\n      ")]):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.CopyApi,visible:e.CopydialogFormVisible},on:{"update:visible":function(t){e.CopydialogFormVisible=t}}},[a("el-form",{ref:"tmpcopyapi",staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpcopyapi}},[a("el-form-item",{attrs:{label:"源发布单元",prop:"sourcedeployunitname",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"发布单元"},on:{change:function(t){return e.CopyAPISourceDeployselectChanged(t)}},model:{value:e.tmpcopyapi.sourcedeployunitname,callback:function(t){e.$set(e.tmpcopyapi,"sourcedeployunitname",t)},expression:"tmpcopyapi.sourcedeployunitname"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"API来源名",prop:"sourceapiname",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"api"},on:{change:function(t){return e.CopySourceAPIChanged(t)}},model:{value:e.tmpcopyapi.sourceapiname,callback:function(t){e.$set(e.tmpcopyapi,"sourceapiname",t)},expression:"tmpcopyapi.sourceapiname"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.sourceapiList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.apiname,value:e.apiname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"目标发布单元",prop:"objectdeployunitname",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"发布单元"},on:{change:function(t){return e.CopyObjectAPIDeployUnitChanged(t)}},model:{value:e.tmpcopyapi.objectdeployunitname,callback:function(t){e.$set(e.tmpcopyapi,"objectdeployunitname",t)},expression:"tmpcopyapi.objectdeployunitname"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"目标API名",prop:"newapiname",required:""}},[a("el-input",{attrs:{type:"text",maxlength:"40","prefix-icon":"el-icon-edit","auto-complete":"off"},model:{value:e.tmpcopyapi.newapiname,callback:function(t){e.$set(e.tmpcopyapi,"newapiname",t)},expression:"tmpcopyapi.newapiname"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.CopydialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.copyapi(t)}}},[e._v("保存\n      ")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"API参数",visible:e.ParamsdialogFormVisible},on:{"update:visible":function(t){e.ParamsdialogFormVisible=t}}},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[e.hasPermission("apiparams:add")?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},nativeOn:{click:function(t){return t.preventDefault(),e.showAddapiparamsDialog(t)}}},[e._v("添加API参数\n          ")]):e._e()],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],key:e.itemKey,attrs:{data:e.apiparamsList,"element-loading-text":"loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"编号",align:"center",width:"45"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(e.paramgetIndex(t.$index))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"API",align:"center",prop:"apiname",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"属性类型",align:"center",prop:"propertytype",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"提交类型",align:"center",prop:"bodytype",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"发布单元",align:"center",prop:"deployunitname",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"参数名",align:"center",prop:"keynamebak",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v(e._s(t.row.keynamebak))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v("...")])],1)])]}}])}),e._v(" "),e.hasPermission("apiparams:update")||e.hasPermission("apiparams:delete")?a("el-table-column",{attrs:{label:"管理",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("apiparams:update")&&t.row.id!==e.id?a("el-button",{attrs:{type:"warning",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showUpdateapiparamsDialog(t.$index)}}},[e._v("修改\n          ")]):e._e(),e._v(" "),e.hasPermission("apiparams:delete")&&t.row.id!==e.id?a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.removeapiparams(t.$index)}}},[e._v("删除\n          ")]):e._e()]}}],null,!1,3713105734)}):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"API新参数",visible:e.NewParamsdialogFormVisible},on:{"update:visible":function(t){e.NewParamsdialogFormVisible=t}}},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{inline:!0}},[[a("el-tabs",{ref:"tabs",attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Header",name:"zero"}},[[a("el-table",{attrs:{data:e.Headertabledatas,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"参数",prop:"keyname",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"参数名"},model:{value:t.row.keyname,callback:function(a){e.$set(t.row,"keyname",a)},expression:"scope.row.keyname"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"默认值",prop:"keydefaultvalue",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"默认值"},model:{value:t.row.keydefaultvalue,callback:function(a){e.$set(t.row,"keydefaultvalue",a)},expression:"scope.row.keydefaultvalue"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.copeHeader(t.row,t.$index)}}},[e._v("新增\n                      ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.delectHeader(t.$index)}}},[e._v("删除")])]}}])})],1)]],2),e._v(" "),a("el-tab-pane",{attrs:{label:"Params",name:"first"}},[[a("el-table",{attrs:{data:e.Paramstabledatas,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"参数",prop:"keyname",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"参数名"},model:{value:t.row.keyname,callback:function(a){e.$set(t.row,"keyname",a)},expression:"scope.row.keyname"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"值类型",prop:"keytype",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"值类型"},model:{value:t.row.keytype,callback:function(a){e.$set(t.row,"keytype",a)},expression:"scope.row.keytype"}},[a("el-option",{attrs:{label:"Number",value:"Number"}}),e._v(" "),a("el-option",{attrs:{label:"String",value:"String"}}),e._v(" "),a("el-option",{attrs:{label:"Array",value:"Array"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"默认值",prop:"keydefaultvalue",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"默认值"},model:{value:t.row.keydefaultvalue,callback:function(a){e.$set(t.row,"keydefaultvalue",a)},expression:"scope.row.keydefaultvalue"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.copeParam(t.row,t.$index)}}},[e._v("新增\n                      ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.delectParam(t.$index)}}},[e._v("删除")])]}}])})],1)]],2),e._v(" "),a("el-tab-pane",{attrs:{label:"Body",name:"second"}},[[e.BodyParamDataVisible?a("div",[a("el-table",{attrs:{data:e.Bodytabledatas,border:""}},[a("el-table-column",{attrs:{label:"参数",prop:"keyname",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"参数名"},model:{value:t.row.keyname,callback:function(a){e.$set(t.row,"keyname",a)},expression:"scope.row.keyname"}})]}}],null,!1,1158101471)}),e._v(" "),a("el-table-column",{attrs:{label:"值类型",prop:"keytype",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"值类型"},model:{value:t.row.keytype,callback:function(a){e.$set(t.row,"keytype",a)},expression:"scope.row.keytype"}},[a("el-option",{attrs:{label:"Number",value:"Number"}}),e._v(" "),a("el-option",{attrs:{label:"String",value:"String"}}),e._v(" "),a("el-option",{attrs:{label:"Array",value:"Array"}})],1)]}}],null,!1,737421296)}),e._v(" "),a("el-table-column",{attrs:{label:"默认值",prop:"keydefaultvalue",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"默认值"},model:{value:t.row.keydefaultvalue,callback:function(a){e.$set(t.row,"keydefaultvalue",a)},expression:"scope.row.keydefaultvalue"}})]}}],null,!1,1001531367)}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.copeBodyParam(t.row,t.$index)}}},[e._v("新增\n                        ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.delectBodyParam(t.$index)}}},[e._v("删除")])]}}],null,!1,3066874988)})],1)],1):e._e(),e._v(" "),e.BodyDataVisible?a("div",[a("el-form",{ref:"tmpapiparams",staticClass:"small-space",attrs:{"status-icon":"","label-position":"left",model:e.tmpapiparams}},[a("el-form-item",{attrs:{label:"Body参数：",prop:"keyname"}},[a("el-input",{attrs:{type:"textarea",rows:"20",cols:"70","prefix-icon":"el-icon-message","auto-complete":"off",placeholder:e.paramsplaceholder},model:{value:e.tmpapiparams.keyname,callback:function(t){e.$set(e.tmpapiparams,"keyname",t)},expression:"tmpapiparams.keyname"}})],1)],1)],1):e._e()]],2)],1)]],2)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.NewParamsdialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addapiallparams(t)}}},[e._v("保存\n      ")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:e.paramstextMap[e.ParamsdialogStatus],visible:e.ModifydialogFormVisible},on:{"update:visible":function(t){e.ModifydialogFormVisible=t}}},[a("el-form",{ref:"tmpapiparams",staticClass:"small-space",staticStyle:{width:"600px","margin-left":"30px"},attrs:{"status-icon":"","label-position":"left","label-width":"120px",model:e.tmpapiparams}},[a("el-form-item",{attrs:{label:"参数类型",prop:"propertytype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"参数类型"},on:{change:function(t){return e.paratypeselectChanged(t)}},model:{value:e.tmpapiparams.propertytype,callback:function(t){e.$set(e.tmpapiparams,"propertytype",t)},expression:"tmpapiparams.propertytype"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.paramlist,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.value,value:e.value}})],1)})],2)],1),e._v(" "),e.BodyVisible?a("div",[a("el-form-item",{attrs:{label:"提交类型",prop:"bodytype",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"提交类型"},on:{change:function(t){return e.submittypeselectChanged(t)}},model:{value:e.tmpapiparams.bodytype,callback:function(t){e.$set(e.tmpapiparams,"bodytype",t)},expression:"tmpapiparams.bodytype"}},[a("el-option",{attrs:{label:"表单",value:"表单"}}),e._v(" "),a("el-option",{attrs:{label:"Json",value:"Json"}}),e._v(" "),a("el-option",{attrs:{label:"Xml",value:"Xml"}})],1)],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"参数名：",prop:"keyname",required:""}},[a("el-input",{attrs:{type:"textarea",rows:"20",cols:"50","prefix-icon":"el-icon-message","auto-complete":"off",placeholder:e.paramsplaceholder},model:{value:e.tmpapiparams.keyname,callback:function(t){e.$set(e.tmpapiparams,"keyname","string"==typeof t?t.trim():t)},expression:"tmpapiparams.keyname"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.ModifydialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"add"===e.ParamsdialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.addapiparams(t)}}},[e._v("添加\n      ")]):e._e(),e._v(" "),"update"===e.ParamsdialogStatus?a("el-button",{attrs:{type:"success",loading:e.btnLoading},nativeOn:{click:function(t){return t.preventDefault(),e.updateapiparams(t)}}},[e._v("修改\n      ")]):e._e()],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"导入PostMan",visible:e.dialogAddFile},on:{"update:visible":function(t){e.dialogAddFile=t}}},[a("el-form",{ref:"uploadData",attrs:{model:e.uploadData}},[a("el-form-item",{attrs:{label:"导入到发布单元:",prop:"deptname",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"发布单元"},on:{change:function(t){return e.uploadselectChanged(t)}},model:{value:e.uploadData.deptname,callback:function(t){e.$set(e.uploadData,"deptname",t)},expression:"uploadData.deptname"}},[a("el-option",{staticStyle:{display:"none"},attrs:{label:"请选择",value:"''"}}),e._v(" "),e._l(e.deployunitList,function(e,t){return a("div",{key:t},[a("el-option",{attrs:{label:e.deployunitname,value:e.deployunitname,required:""}})],1)})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"API风格:",prop:"apistyle",required:""}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"api风格"},model:{value:e.uploadData.apistyle,callback:function(t){e.$set(e.uploadData,"apistyle",t)},expression:"uploadData.apistyle"}},[a("el-option",{attrs:{label:"传统方式",value:"传统方式"}}),e._v(" "),a("el-option",{attrs:{label:"Restful",value:"restful"}})],1)],1),e._v(" "),a("el-form-item",[a("el-upload",{staticStyle:{display:"inline"},attrs:{"auto-upload":!1,"on-change":e.handleChange,"on-remove":e.removehandleChange,"file-list":this.fileList,accept:".json",limit:"1",action:"#"}},[a("el-button",{attrs:{type:"success"}},[e._v("选择文件")])],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:e.upload}},[e._v("点击上传")])],1)],1)],1)],1)},staticRenderFns:[]},v=a("VU/8")(f,b,!1,null,null,null);t.default=v.exports},mvHQ:function(e,t,a){e.exports={default:a("qkKv"),__esModule:!0}},qkKv:function(e,t,a){var i=a("FeBl"),s=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return s.stringify.apply(s,arguments)}}});
//# sourceMappingURL=8.48c58a8352896c45a571.js.map